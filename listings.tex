% The language definitions below require the following packages:
%
%     \usepackage{courier}
%     \usepackage{xcolor}
%     \usepackage{relsize}
%
%     \input{listings}
%     \renewcommand{\Underscore}{\textscale{1}{\textunderscore}}
%
% Without extra packages I had to provide an alternative underscore definition
% to get decent looking underscores.
%
% As an alternative to courier, it is also possible to use the `lmodern`
% package.
%
%     \usepackage[T1]{fontenc}
%     \usepackage{lmodern}
%     \usepackage{xcolor}
%     \usepackage{relsize}
%
%     \input{listings}
%
% When the python or clingo language is given, tex code can be embedded
% escaping it in `#( ... #)`, which is treated like a comment in Python.
% Furthermore, for logic programs the character sequence is `%%` is not output.
% This can be used to add labels at the end of lines. For example, in a logic
% program one can write
%
%     H :- B.%%#( \label{lst:rule} #)
%
% to refer to the rule from the document without having to worry about changing
% line numbers when refactoring. The annotated program will still be runnable
% with clingo.

\providecommand{\Underscore}{\textunderscore}

\lstdefinelanguage{clingo}{%
  basicstyle=\ttfamily,%
  keywordstyle=[1]\bfseries,%
  keywordstyle=[2]\bfseries,%
  keywordstyle=[3]\bfseries,%
  showstringspaces=false,%
  literate={_}{\Underscore}1 {\%\%}{}0,%
  escapeinside={\#(}{\#)},%
  alsoletter={\#,\&},%
  keywords=[1]{not,from,import,def,if,else,elif,return,while,break,and,or,for,in,del,and,class,with,as,is,yield,async},%
  keywords=[2]{\#const,\#show,\#minimize,\#base,\#theory,\#count,\#external,\#program,\#script,\#end,\#heuristic,\#edge,\#project,\#show,\#sum},%
  keywords=[3]{&,&dom,&sum,&diff,&show},%
  morecomment=[l]{\#\ },%
  morecomment=[l]{\%\ },%
  morestring=[b]",%
  stringstyle={\itshape},%
  commentstyle={\color{darkgray}}%
}

\lstdefinelanguage{python}{%
  basicstyle=\ttfamily,%
  keywordstyle=[1]\bfseries,%
  showstringspaces=false,%
  literate={_}{\Underscore}{1},%
  escapeinside={\#(}{\#)},%
  alsoletter={\#,\&},%
  keywords=[1]{not,from,import,def,if,else,elif,return,while,break,and,or,for,in,del,and,class,with,as,is,yield,async},%
  morecomment=[l]{\#\ },%
  morestring=[b]",%
  stringstyle={\itshape},%
  commentstyle={\color{darkgray}}%
}

